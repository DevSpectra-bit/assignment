<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Your Classes</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="{% if dark_mode %}bg-gradient-to-br from-slate-900 to-gray-800 min-h-screen font-sans text-gray-100 flex flex-col{% else %}bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen font-sans text-gray-800 flex flex-col{% endif %}">

  <!-- Header -->
  <header class="py-4 px-6 flex justify-between items-center
    {% if dark_mode %}
      bg-gray-900 border-b border-gray-700 text-gray-100
    {% else %}
      bg-white shadow-md text-gray-900
    {% endif %}
  ">
    <h1 class="text-3xl font-bold text-indigo-500">Your Classes</h1>

    <a href="{{ url_for('index') }}"
      class="{% if dark_mode %}text-gray-300 hover:text-indigo-400{% else %}text-gray-600 hover:text-indigo-600{% endif %} font-medium">
      ← Back to Assignments
    </a>
  </header>

  <main class="flex-1 p-6 max-w-4xl mx-auto">

    <!-- Add Class Form -->
    <section class="rounded-xl shadow-md p-6 mb-8 max-w-3xl mx-auto
      {% if dark_mode %}
        bg-gray-800 border border-gray-700 text-gray-100
      {% else %}
        bg-white border border-gray-200 text-gray-800
      {% endif %}
    ">
      <h2 class="text-xl font-semibold text-indigo-400 mb-4">Add a New Class</h2>

      <form action="{{ url_for('manage_classes') }}" method="POST" class="grid md:grid-cols-2 gap-4">
        <input type="text" name="class_name" placeholder="Class name (e.g. Math)" required
          class="rounded-lg p-2 focus:ring focus:ring-indigo-300
            {% if dark_mode %}
              bg-gray-700 text-gray-100 border border-gray-600 placeholder-gray-400
            {% else %}
              bg-white text-gray-900 border border-gray-300 placeholder-gray-500
            {% endif %}
        ">

        <input type="text" name="link" placeholder="Class link (e.g. https://...)" required
          class="rounded-lg p-2 focus:ring focus:ring-indigo-300
            {% if dark_mode %}
              bg-gray-700 text-gray-100 border border-gray-600 placeholder-gray-400
            {% else %}
              bg-white text-gray-900 border border-gray-300 placeholder-gray-500
            {% endif %}
        ">

        <button type="submit"
          class="col-span-2 bg-indigo-600 text-white font-semibold py-2 rounded-lg hover:bg-indigo-700 transition">
          Add Class
        </button>
      </form>
    </section>

    <!-- Class List -->
    <section class="max-w-5xl mx-auto">
      <h2 class="text-2xl font-semibold mb-4
        {% if dark_mode %}text-gray-100{% else %}text-gray-700{% endif %}
      ">
        Your Classes
      </h2>

      {% if classes %}
        <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-6">

          {% for c in classes %}
          <div class="rounded-xl p-5 transition border shadow-md
            {% if dark_mode %}
              bg-gray-800 border-gray-700 hover:shadow-lg hover:border-indigo-500
            {% else %}
              bg-white border-gray-200 hover:shadow-lg
            {% endif %}
          ">
            <h3 class="text-lg font-semibold mb-2 capitalize
              {% if dark_mode %}text-gray-100{% else %}text-gray-800{% endif %}
            ">
              {{ c.class_name }}
            </h3>

            <a href="{{ c.link }}" target="_blank"
              class="text-sm break-all
                {% if dark_mode %}text-indigo-300 hover:text-indigo-400{% else %}text-indigo-600 hover:underline{% endif %}
              ">
              {{ c.link }}
            </a>

            <div class="mt-4 flex justify-end">
              <a href="{{ url_for('delete_class_link', id=c.id) }}"
                class="font-medium text-sm
                  {% if dark_mode %}text-red-400 hover:text-red-300{% else %}text-red-500 hover:underline{% endif %}
                ">
                Delete
              </a>
            </div>
          </div>
          {% endfor %}

        </div>
      {% else %}
        <p class="text-center italic mt-8
          {% if dark_mode %}text-gray-400{% else %}text-gray-500{% endif %}
        ">
          You haven’t added any classes yet.
        </p>
      {% endif %}
    </section>
  </main>

  <!-- Footer -->
  <footer class="text-center text-sm py-4 mt-auto
    {% if dark_mode %}text-gray-500{% else %}text-gray-600{% endif %}
  ">
    Made with ❤️ using Flask + Tailwind
  </footer>

</body>
</html>
